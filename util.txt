uitility function for version 2